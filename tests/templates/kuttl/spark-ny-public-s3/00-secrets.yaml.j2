---
apiVersion: secrets.stackable.tech/v1alpha1
kind: SecretClass
metadata:
  name: s3-credentials
spec:
  backend:
    k8sSearch:
      searchNamespace:
        pod: {}
---
apiVersion: v1
kind: Secret
metadata:
  name: s3-credentials
  labels:
    secrets.stackable.tech/class: s3-credentials
stringData:
  accessKey: spark
  secretKey: sparkspark
---
apiVersion: v1
kind: Secret
metadata:
  name: centralized-minio-users
type: Opaque
stringData:
  username1: |
    username=spark
    password=sparkspark
    disabled=false
    policies=readwrite,consoleAdmin,diagnostics
    setPolicies=false

{% if test_scenario['values']['s3-use-tls'] == 'true' %}
---
apiVersion: secrets.stackable.tech/v1alpha1
kind: SecretClass
metadata:
  name: minio-tls-certificates
spec:
  backend:
    k8sSearch:
      searchNamespace:
        pod: {}
---
apiVersion: v1
kind: Secret
metadata:
  name: minio-tls-certificates
  labels:
    secrets.stackable.tech/class: minio-tls-certificates
# Have a look at the folder certs on how to create this
data:
data:
  ca.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUQyVENDQXNHZ0F3SUJBZ0lVZlROVzNhQnQ2b2VKYzlBZFQ0S2Z6QlplKzFNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2V6RUxNQWtHQTFVRUJoTUNSRVV4R3pBWkJnTlZCQWdNRWxOamFHeGxjM2RwWnkxSWIyeHpkR1ZwYmpFTwpNQXdHQTFVRUJ3d0ZWMlZrWld3eEtEQW1CZ05WQkFvTUgxTjBZV05yWVdKc1pTQlRhV2R1YVc1bklFRjFkR2h2CmNtbDBlU0JKYm1NeEZUQVRCZ05WQkFNTURITjBZV05yWVdKc1pTNWtaVEFnRncweU16QTJNVGt4TkRVek1qUmEKR0E4eU1USXpNRFV5TmpFME5UTXlORm93ZXpFTE1Ba0dBMVVFQmhNQ1JFVXhHekFaQmdOVkJBZ01FbE5qYUd4bApjM2RwWnkxSWIyeHpkR1ZwYmpFT01Bd0dBMVVFQnd3RlYyVmtaV3d4S0RBbUJnTlZCQW9NSDFOMFlXTnJZV0pzClpTQlRhV2R1YVc1bklFRjFkR2h2Y21sMGVTQkpibU14RlRBVEJnTlZCQU1NREhOMFlXTnJZV0pzWlM1a1pUQ0MKQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFNZDFuTVc1eEVMSkpGOHZFd0cyd2J3OQpsL3RiZ0hteUZIZ2NJTjdLTGhJTjhlSkcvWDltTEdKZDRnTUQvRGtZKzBhUjFnLzFqcW50SXZZUlI0YUZ3ZGtDCkxWdjJhNktSaG5VVHVjTGNZc2FmdW1yS28ySGFRM3pnUWlhT2xqN292YWNrQk1lV2pyUkdGSmpaL20zM1JJMGQKNVNueUVvbUkvR3RiQk9oa0dsL1I1OTd6MFgyVk5jNS9lNW15N1V0WFU5ZlJpclA3QVgzMGpBQ1M1bjhTODczRQpXYXJoR1JrZXdycXdJMlI1NGxCVGdxWXJ0RW1UNVlhS2Q2SG1uYzA1TGU4S3RuZ2dMMElXY3dNaEJWNjBXam5LCldwUm9iRnEwNkk4WnQ1Lzc1eFBjRFhkeHJoTUVMME1tMCtBZnNPSVdwbmhsVmJNaWNrQWJKaEE1NmFNVWZDVUMKQXdFQUFhTlRNRkV3SFFZRFZSME9CQllFRk9ubk8vTEZnVHZyMVdzcEtHQytDb2MvSEJpMU1COEdBMVVkSXdRWQpNQmFBRk9ubk8vTEZnVHZyMVdzcEtHQytDb2MvSEJpMU1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0RRWUpLb1pJCmh2Y05BUUVMQlFBRGdnRUJBRUx5bVhKQ0wvSm1SaGVxaW9mVkg4elJYcC9PQUlBZmp4anVZVlM3QnMwSW5Dd1UKZU5uUTNCRHMrbVRYSVUzUG5wTEJVODVuOVF3eVpqeTByL3VOVE13U1RTYU9DZkZaY3hsLzhxV2ZJcmoxVGozNwpLMEw0REZSVlQzSnBXa056OU1zSXpHMXpqVTdGR2wzeENaZ2VSNmFuWllKS2ZmaHduNEo4Tnp2bDZZblV3aEoyCk1Xb3FnMzJQcDRDUk9TaFJPME1adVpic3BTUTFtSGJUSU9Henk5bTVYS1puRTBGSHJ5UWt0M1l6bWZJNW1NejcKRkRQcHlBTzI2VVRkdDUydFZoMm9ETzVKQnJMYUMxaXViTGl5cWszRWYzR3NVc2lWbFVHT1VoaDhSVHErYjNBSwpsS0RUbHY5cGVJa1RDTm1heUlUNHJaTnJlTkRlc2psY29QZmRNa0U9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUR5RENDQXJDZ0F3SUJBZ0lVU05qSXRhUVVkVVJ6TjVraUZZbG03LzkxTFZjd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2V6RUxNQWtHQTFVRUJoTUNSRVV4R3pBWkJnTlZCQWdNRWxOamFHeGxjM2RwWnkxSWIyeHpkR1ZwYmpFTwpNQXdHQTFVRUJ3d0ZWMlZrWld3eEtEQW1CZ05WQkFvTUgxTjBZV05yWVdKc1pTQlRhV2R1YVc1bklFRjFkR2h2CmNtbDBlU0JKYm1NeEZUQVRCZ05WQkFNTURITjBZV05yWVdKc1pTNWtaVEFnRncweU16QTJNVGt4TkRVek1qVmEKR0E4eU1USXpNRFV5TmpFME5UTXlOVm93WGpFTE1Ba0dBMVVFQmhNQ1JFVXhHekFaQmdOVkJBZ01FbE5qYUd4bApjM2RwWnkxSWIyeHpkR1ZwYmpFT01Bd0dBMVVFQnd3RlYyVmtaV3d4RWpBUUJnTlZCQW9NQ1ZOMFlXTnJZV0pzClpURU9NQXdHQTFVRUF3d0ZiV2x1YVc4d2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUIKQVFDcmhGb1R5d2llL3BtdU9jc2RDNGlhcVRiV1crQ0todFVLbmUyNjQrYTF5WTQ2cG9KYXo0MjJiZmFaTk5kMQpQMjdPSHZHRkpUVTBOdzdIamgwS1poamp6bkk2TjRySWVDUWNiZFhBSG1pUkFtT3h2NG1IdlRJM29MeXF2T29BClJ0bkRhc1pyVXZnTHMwL01GMHFZclRQWUVkcFN6czdnclBzVGZVOG1aZVNBSE5pbkYvdGpWRG1HcUJiemxYeFgKOGYyY0ljUWlaSGMzZ3dMbDNaTzg4TnBoRDdycGM4ZTd5bmRrcVZxZUNoempHajhTc1RJdklDMkxXMDFQYkhUcAo0NnZ1Z2ZETk94a1pYSnJpa2hnSWh6TWh5WS81VSs3NVdXcXl3VzNrSkRlL3poaWRnUlBxOHJvT0tQWlpmT2k1ClJJYjdLN2ZYNnZvbHJTaTFsMTZmVmg0aEFnTUJBQUdqWHpCZE1Cc0dBMVVkRVFRVU1CS0NCVzFwYm1sdmdnbHMKYjJOaGJHaHZjM1F3SFFZRFZSME9CQllFRktmZmZ4K1RwU0UyWVhKa2pNdkdHTHVrclZVb01COEdBMVVkSXdRWQpNQmFBRk9ubk8vTEZnVHZyMVdzcEtHQytDb2MvSEJpMU1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQlRhSk1OCkdwS0M1TlUrUFhDd3dtTFkyT0tEZENFOXlNOEFkbVVOdnFlZkl0M1BwcmprUUUyc05PVEpZSEZaQTl1NWoxNHYKamFsaDBCeFhXL00ybGxNNHlhRDZJczJDVDBnWWc0dlFkbTlhWmNINkNnK0RPakVPRmxXWEFiQUZvbm01QTBZSApBUVpweXVac1NSZnYvS2lhMHAyUjFSaUg4NDQ2UCtYdDRxN2xlM2dNN0ltN3NJVTNZNitpSGRXaUtKdzVyckUyClBzV0ZDMEpOaVh3Y0d2dHhrTXNMSXY5T0JNazk1RU9jTytPT1N6STY1L2NvMXhZU215S2tjcXd6SkVSUXE1TWsKSE54aW9GZkpkYnVjZHpWNldzM2NXYk9EdlRzei8wMm5EV00xRmErRzYwZitoRVhWUkszODhDcTdpK0o4VHpIUApNR1l5L2pnRjJhbU1CY2haCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRQ3JoRm9UeXdpZS9wbXUKT2NzZEM0aWFxVGJXVytDS2h0VUtuZTI2NCthMXlZNDZwb0phejQyMmJmYVpOTmQxUDI3T0h2R0ZKVFUwTnc3SApqaDBLWmhqanpuSTZONHJJZUNRY2JkWEFIbWlSQW1PeHY0bUh2VEkzb0x5cXZPb0FSdG5EYXNaclV2Z0xzMC9NCkYwcVlyVFBZRWRwU3pzN2dyUHNUZlU4bVplU0FITmluRi90alZEbUdxQmJ6bFh4WDhmMmNJY1FpWkhjM2d3TGwKM1pPODhOcGhEN3JwYzhlN3luZGtxVnFlQ2h6akdqOFNzVEl2SUMyTFcwMVBiSFRwNDZ2dWdmRE5PeGtaWEpyaQpraGdJaHpNaHlZLzVVKzc1V1dxeXdXM2tKRGUvemhpZGdSUHE4cm9PS1BaWmZPaTVSSWI3SzdmWDZ2b2xyU2kxCmwxNmZWaDRoQWdNQkFBRUNnZ0VBSHovZmU1QzM4dVAzVXhlRGlyaXh2R0FOTmpRS0xxTVBTTDVxZEcwV2VWT08KUHVCY2lyZ2JIVHhldkI0MURVOHYzSTBsdXZrQy93N3krZWZLSWIxbFZvZ2tKcmc4NkhaL09kREhLNWcrdkFEZgo4aUF3S2hPT0JUV2JlazR1SWp2R2JFVFZmdk5nYngxTjhpVGlPZndBb0tMc0VMOU9VUUFqUkxORml2endpMmlwCkp6czFlT2FieDRLemR6TWFHNWdDMFh6ZUhOZXRZMUlZYnRERFdhVEc4Z3BUeUVOaDljVWFzZlkrTmRtK2VMZEEKQTM0bnErNXA1SmkvMGtoakRCYnlTQWwrc1FlYWs0Mng0eWpRVU51TmdtaFVGMDdjL2lsN1RWSXl3VFlBSSt1SQpXdFdONUZ1VWlWOGtmUG1tYXh1ZEZzaEV1K29zMEZIdHgyc09kdE9ER3dLQmdRRHNMUDNzR2pZdEc5OTZQZTlOCjJwUHVOZHFDQUc1Wk9aWlJ1cXQxbmtyZ3h2UUlTb3Z0cHdvQkp3NWhQZUJLVG9mNjd6ZXlOdGpzQ0QySW11QUsKbFFzTmE4K3lSWngzR0Y0YSttZ3dRMVRKTUdJNzR2Qmg2ZnFpVi9ndFN4UDFwL0xIRU9EQkNuMTVkQzN3ZHpVNQpnaEx2dHpqUlVUMkwyTlRJMXdzOUhLVXIwd0tCZ1FDNTZmU1JjWHlLTTNBSTZDWVZlZWNCK25SVlFKZW83bmVLCldxdHVKK2hVS3J2dy8xWnV5SHFhQUNPbDYzcW5ZVjVtRlVHcTQrQnZaMHVZN01JK1EwUUxsY1dJOTdpZ1NRd0UKd3I5SlhCL0RvdldmbFk4ZTRaWWhQS1JhWkVqTU5ZUEdUVDN1c1BXSEtRM2NWNUxFc1Uxdnp0azhwU3FrNkRQTgpQSGVkbmNxWnV3S0JnRnhZUnp5L0R2bmFVU3BCOTBUUXQxREgrOVVqQ0FLWk1yNW9KOHlJaFN5WWZpaVR4Vnk2CkdINVU0Qm1Ea1NSY3lteUNocHVIT0pBcHRLMnFLUG5hUndVTFo1MkQvR2JRdjFMN0lDdm0xOHNHd1JJN2JOUk0KSVhUQ3dzWXErZlh1b2szVnVwdWdWMmxhMU8rV0hOaU1sSXpvYmkzaC94ZWtRNmIzOW13QnZFK0RBb0dBR3hKRgpLWlNUNU8vZWhYMkFaaW90Q0MyM0dON2g5cGhhMGN1b0lNOHcxbWl1bTBZakNOaXFlWmhCbUp4MGJNRVI1TjE5CmhXdlBONG1jQ1hXWVIwYTJOdFdsUU8rSmM5V1BLWFpPTWxsMnlwOEZFeXJNLzFzcjZFVVRUWkpDdzNHYmNabTMKeGZVQW02RFB3dUVCbnlDT1BSU3FyMWtCbjZlc08xdHRzNGJSaEpjQ2dZRUFsOXdPMUFvYmtET0ErS053MlBnWgpIVENrM2ZtQWU5OVNIeGp3K3JiclpYcHI0eEEvSmMrcERpeFcyYjFUU1BWd0hrWVhHMFZ0ZTNuL2NIU3B6aUVvCmZOUGlETlNUUjBjdkg3bHQyR3l0ZjNheUpENUFpSWFBcGhsTXQwdDd6L0RXS21yQVgwdG9QNHdkNWE4NmV6RnIKVStieFA0TEZGNjROYjZxVk1QWk5GczA9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
{% endif %}
